<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pirate & Sandals: Stormy Waters</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <audio id="bg-music" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3"></audio>
    <audio id="sfx-hit" src="https://actions.google.com/sounds/v1/explosions/explosion_far.ogg"></audio>
    <audio id="sfx-miss" src="https://actions.google.com/sounds/v1/water/small_splash.ogg"></audio>

    <div id="game-window">
        <section id="menu-screen" class="screen active">
            <div class="logo-area">
                <h1 class="game-title">PIRATE & SANDALS</h1>
                <p class="subtitle">PROJEKT ZALICZENIOWY: GRA FABULARNA</p>
            </div>
            <div class="menu-buttons">
                <button onclick="showScreen('creator-screen')">NOWA GRA</button>
                <button id="load-btn" onclick="loadGame()">WCZYTAJ GRƒò</button>
                <button onclick="showScreen('settings-screen')">USTAWIENIA</button>
            </div>
            <div class="version-info">Wersja 1.0 - Julia Angelika Ka≈∫mierczak</div>
        </section>

        <section id="creator-screen" class="screen">
            <h2 class="section-title">STW√ìRZ SWOJEGO KAPITANA</h2>
            <div class="creator-container">
                <div class="avatar-sidebar">
                    <div class="avatar-preview" id="avatar-img">
                        <div id="hair-part"></div>
                        <div id="head-part"></div>
                        <div id="body-part"></div>
                        <div id="clothes-part"></div>
                    </div>
                </div>
                <div class="customization-form">
                    <div class="form-group">
                        <label>IMIƒò KAPITANA:</label>
                        <input type="text" id="player-name-input" maxlength="15" placeholder="Wpisz imiƒô...">
                    </div>
                    <div class="form-group">
                        <label>P≈ÅEƒÜ:</label>
                        <div class="radio-group">
                            <button class="choice-btn active" onclick="setGender('M')">Mƒò≈ªCZYZNA</button>
                            <button class="choice-btn" onclick="setGender('K')">KOBIETA</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>KOLOR W≈ÅOS√ìW:</label>
                        <input type="color" id="hair-color-picker" value="#4b2c20" onchange="updateVisuals()">
                    </div>
                    <div class="form-group">
                        <label>KOLOR UBRANIA:</label>
                        <input type="color" id="cloth-color-picker" value="#7b1113" onchange="updateVisuals()">
                    </div>
                    <button class="gold-action-btn" onclick="startStory()">ZAAKCEPTUJ I ROZPOCZNIJ</button>
                </div>
            </div>
        </section>

        <section id="prologue-screen" class="screen">
            <div class="parchment-container">
                <div class="parchment">
                    <h2 id="prologue-title">DZIE≈É KATASTROFY</h2>
                    <div id="prologue-text" class="typewriter-text"></div>
                    <button class="gold-action-btn" onclick="showScreen('stats-screen')">ROZUMIEM, CZAS WALCZYƒÜ O SWOJE</button>
                </div>
            </div>
        </section>

        <section id="stats-screen" class="screen">
            <div class="stats-top-bar">
                <div class="player-summary">
                    <span id="stat-name-display">KAPITAN</span> 
                    <span class="badge">LVL <span id="stat-lvl">1</span></span>
                </div>
                <div class="currency-display">üí∞ Z≈ÅOTO: <span id="stat-gold">0</span></div>
            </div>

            <div class="skills-box">
                <h3>ROZDAJ PUNKTY UMIEJƒòTNO≈öCI</h3>
                <p>DOSTƒòPNE PUNKTY: <span id="skill-pts">5</span></p>
                
                <div class="skill-row">
                    <div class="skill-info">
                        <strong>üëÅÔ∏è PERCEPCJA</strong>
                        <small>Szansa na odkrycie p√≥l dooko≈Ça trafienia.</small>
                    </div>
                    <div class="skill-controls">
                        <button onclick="addSkill('per')">+</button>
                        <span id="val-per">0</span>
                    </div>
                </div>

                <div class="skill-row">
                    <div class="skill-info">
                        <strong>üçÄ SZCZƒò≈öCIE</strong>
                        <small>Zwiƒôksza szansƒô, ≈ºe komputer spud≈Çuje.</small>
                    </div>
                    <div class="skill-controls">
                        <button onclick="addSkill('luc')">+</button>
                        <span id="val-luc">0</span>
                    </div>
                </div>

                <div class="skill-row">
                    <div class="skill-info">
                        <strong>üõ†Ô∏è NAPRAWA</strong>
                        <small>Zmniejsza obra≈ºenia otrzymywane od wroga.</small>
                    </div>
                    <div class="skill-controls">
                        <button onclick="addSkill('rep')">+</button>
                        <span id="val-rep">0</span>
                    </div>
                </div>
            </div>
            
            <div class="action-footer">
                <button class="gold-action-btn" onclick="showScreen('setup-screen')">WYRUSZ NA BITWƒò (BITWA O XP)</button>
                <button class="save-btn" onclick="saveGame()">ZAPISZ GRƒò</button>
            </div>
        </section>

        <section id="setup-screen" class="screen">
            <h2>PRZYGOTUJ SWOJƒÑ FLOTƒò</h2>
            <p id="setup-msg">Wybierz statek z doku i umie≈õƒá go na planszy.</p>
            <div class="setup-layout">
                <div id="player-setup-board" class="board"></div>
                <div class="dock-area">
                    <button id="rotate-btn" class="btn-side">OBR√ìƒÜ (POZIOM)</button>
                    <div id="ship-dock">
                        </div>
                    <button id="start-battle-btn" class="gold-action-btn" style="display:none;" onclick="initiateBattle()">START BITWY!</button>
                </div>
            </div>
        </section>

        <section id="battle-screen" class="screen">
            <div class="battle-header">
                <div class="battle-stats">TWOJE HP: <span id="p-hp">100%</span></div>
                <h2 id="turn-display">TWOJA KOLEJ</h2>
                <div class="battle-stats">WR√ìG HP: <span id="e-hp">100%</span></div>
            </div>
            <div class="game-container">
                <div class="board-section">
                    <h3>TWOJA FLOTA</h3>
                    <div id="p-battle-board" class="board"></div>
                </div>
                <div class="board-section">
                    <h3>RADAR WROGA</h3>
                    <div id="e-battle-board" class="board"></div>
                </div>
            </div>
            <p id="battle-log">Zlokalizuj statki pirat√≥w!</p>
        </section>

        <section id="settings-screen" class="screen">
            <h2>USTAWIENIA GRY</h2>
            <div class="settings-box">
                <div class="setting-item">
                    <span>MUZYKA I D≈πWIƒòKI</span>
                    <button id="audio-toggle" onclick="toggleAudio()">W≈ÅƒÑCZONE</button>
                </div>
                <div class="setting-item">
                    <span>JƒòZYK</span>
                    <button>POLSKI</button>
                </div>
            </div>
            <button class="gold-action-btn" onclick="showScreen('menu-screen')">POWR√ìT DO MENU</button>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
